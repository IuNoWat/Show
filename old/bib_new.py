
import pygame




p0=[
    [[0,0,0]]*144
]

p1=[
    [[0,0,0]]*144,
    [[0,0,0]]*144,
    [[0,0,0]]*144,
    [[0,0,1]]*144,
    [[0,0,2]]*144,
    [[0,0,3]]*144,
    [[0,0,4]]*144,
    [[0,0,5]]*144,
    [[0,0,6]]*144,
    [[0,0,7]]*144,
    [[0,0,8]]*144,
    [[0,0,9]]*144,
    [[0,0,10]]*144,
    [[0,0,11]]*144,
    [[0,0,12]]*144,
    [[0,0,13]]*144,
    [[0,0,14]]*144,
    [[0,0,15]]*144,
    [[0,0,16]]*144,
    [[0,0,17]]*144,
    [[0,0,18]]*144,
    [[0,0,19]]*144,
    [[0,0,20]]*144,
    [[0,0,21]]*144,
    [[0,0,22]]*144,
    [[0,0,23]]*144,
    [[0,0,24]]*144,
    [[0,0,25]]*144,
    [[0,0,26]]*144,
    [[0,0,27]]*144,
    [[0,0,28]]*144,
    [[0,0,29]]*144,
    [[0,0,30]]*144,
    [[0,0,31]]*144,
    [[0,0,32]]*144,
    [[0,0,33]]*144,
    [[0,0,34]]*144,
    [[0,0,35]]*144,
    [[0,0,36]]*144,
    [[0,0,37]]*144,
    [[0,0,38]]*144,
    [[0,0,39]]*144,
    [[0,0,40]]*144,
    [[0,0,41]]*144,
    [[0,0,42]]*144,
    [[0,0,43]]*144,
    [[0,0,44]]*144,
    [[0,0,45]]*144,
    [[0,0,46]]*144,
    [[0,0,47]]*144,
    [[0,0,48]]*144,
    [[0,0,49]]*144,
    [[0,0,50]]*144,
    [[0,0,51]]*144,
    [[0,0,52]]*144,
    [[0,0,53]]*144,
    [[0,0,54]]*144,
    [[0,0,55]]*144,
    [[0,0,56]]*144,
    [[0,0,57]]*144,
    [[0,0,58]]*144,
    [[0,0,59]]*144,
    [[0,0,60]]*144,
    [[0,0,61]]*144,
    [[0,0,62]]*144,
    [[0,0,63]]*144,
    [[0,0,64]]*144,
    [[0,0,65]]*144,
    [[0,0,66]]*144,
    [[0,0,67]]*144,
    [[0,0,68]]*144,
    [[0,0,69]]*144,
    [[0,0,70]]*144,
    [[0,0,71]]*144,
    [[0,0,72]]*144,
    [[0,0,73]]*144,
    [[0,0,74]]*144,
    [[0,0,75]]*144,
    [[0,0,76]]*144,
    [[0,0,77]]*144,
    [[0,0,78]]*144,
    [[0,0,79]]*144,
    [[0,0,80]]*144,
    [[0,0,81]]*144,
    [[0,0,82]]*144,
    [[0,0,83]]*144,
    [[0,0,84]]*144,
    [[0,0,85]]*144,
    [[0,0,86]]*144,
    [[0,0,87]]*144,
    [[0,0,88]]*144,
    [[0,0,89]]*144,
    [[0,0,90]]*144,
    [[0,0,91]]*144,
    [[0,0,92]]*144,
    [[0,0,93]]*144,
    [[0,0,94]]*144,
    [[0,0,95]]*144,
    [[0,0,96]]*144,
    [[0,0,97]]*144,
    [[0,0,98]]*144,
    [[0,0,99]]*144,
    [[0,0,100]]*144,
    [[0,0,101]]*144,
    [[0,0,102]]*144,
    [[0,0,103]]*144,
    [[0,0,104]]*144,
    [[0,0,105]]*144,
    [[0,0,106]]*144,
    [[0,0,107]]*144,
    [[0,0,108]]*144,
    [[0,0,109]]*144,
    [[0,0,110]]*144,
    [[0,0,111]]*144,
    [[0,0,112]]*144,
    [[0,0,113]]*144,
    [[0,0,114]]*144,
    [[0,0,115]]*144,
    [[0,0,116]]*144,
    [[0,0,117]]*144,
    [[0,0,118]]*144,
    [[0,0,119]]*144,
    [[0,0,120]]*144,
    [[0,0,121]]*144,
    [[0,0,122]]*144,
    [[0,0,123]]*144,
    [[0,0,124]]*144,
    [[0,0,125]]*144,
    [[0,0,126]]*144,
    [[0,0,127]]*144,
    [[0,0,128]]*144,
    [[0,0,129]]*144,
    [[0,0,130]]*144,
    [[0,0,131]]*144,
    [[0,0,132]]*144,
    [[0,0,133]]*144,
    [[0,0,134]]*144,
    [[0,0,135]]*144,
    [[0,0,136]]*144,
    [[0,0,137]]*144,
    [[0,0,138]]*144,
    [[0,0,139]]*144,
    [[0,0,140]]*144,
    [[0,0,141]]*144,
    [[0,0,142]]*144,
    [[0,0,143]]*144,
    [[0,0,144]]*144,
    [[0,0,145]]*144,
    [[0,0,146]]*144,
    [[0,0,147]]*144,
    [[0,0,148]]*144,
    [[0,0,149]]*144,
    [[0,0,150]]*144,
    [[0,0,151]]*144,
    [[0,0,152]]*144,
    [[0,0,153]]*144,
    [[0,0,154]]*144,
    [[0,0,155]]*144,
    [[0,0,156]]*144,
    [[0,0,157]]*144,
    [[0,0,158]]*144,
    [[0,0,159]]*144,
    [[0,0,160]]*144,
    [[0,0,161]]*144,
    [[0,0,162]]*144,
    [[0,0,163]]*144,
    [[0,0,164]]*144,
    [[0,0,165]]*144,
    [[0,0,166]]*144,
    [[0,0,167]]*144,
    [[0,0,168]]*144,
    [[0,0,169]]*144,
    [[0,0,170]]*144,
    [[0,0,171]]*144,
    [[0,0,172]]*144,
    [[0,0,173]]*144,
    [[0,0,174]]*144,
    [[0,0,175]]*144,
    [[0,0,176]]*144,
    [[0,0,177]]*144,  
]

p2=[
    [[0,0,200]]*144
]

p3=[
    [[100,0,0]]*144,
    [[200,0,0]]*144,
    [[255,0,0]]*144,
    [[255,0,0]]*144,
    [[255,0,0]]*144,
    [[255,0,0]]*144
]

p4=[
    [[0,0,200]]*144
]

p5=[
    [[255,0,0]]*144
]

#p5=[
#    [[255,0,0]]*144
#]*73


band_classic=p0*20+p1+p2*327+p3+p4*209+p5*73

class Band() :
    def __init__(self,duration_of_music,nb_led=144,fps=10) :
        self.duration_sec=duration_of_music
        self.fps=fps
        self.total_frame=duration_of_music*fps
        self.frames=[None]*self.total_frame
        #useless
        self.nb_led=nb_led
    def add_solid(self,start_frame,end_frame,color=[0,0,0]) :
        for i in range(start_frame,end_frame) :
            self.frames[i]=[color]*self.nb_led
    def add_linear_change(self,start_frame,end_frame,starting_color,ending_color) :
        nb_frames=(end_frame-start_frame)-1
        diff_r_step=(ending_color[0]-starting_color[0])/nb_frames
        diff_g_step=(ending_color[1]-starting_color[1])/nb_frames
        diff_b_step=(ending_color[2]-starting_color[2])/nb_frames
        for i in range(0,nb_frames+1) :
            r=int(starting_color[0]+diff_r_step*i)
            g=int(starting_color[1]+diff_g_step*i)
            b=int(starting_color[2]+diff_b_step*i)
            self.frames[start_frame+i]=[[r,g,b]]*self.nb_led
    def add_flash_6f(self,start_frame,color=[255,255,255])  :
        self.frames[start_frame+0]=[[0,0,0]]*144
        self.frames[start_frame+1]=[color]*144
        self.frames[start_frame+2]=[[int(color[0]/2),int(color[1]/2),int(color[2]/2)]]*144
        self.frames[start_frame+3]=[color]*144
        self.frames[start_frame+4]=[color]*144
        self.frames[start_frame+5]=[color]*144
    def add_custom(self,start_frame,frames_to_add) :
        for i,frame in enumerate(frames_to_add) :
            self.frames[start_frame+i]=frame
            


test=Band(62)
test.add_solid(0,20,[0,0,0])
test.add_linear_change(20,200,[0,0,0],[0,0,255])
test.add_flash_6f(200,[255,0,0])
test.add_solid(206,540,[0,0,255])
test.add_solid(540,540+80,[255,0,0])

band_v1=Band(173)
band_v1.add_solid(0,41,[0,0,0])
band_v1.add_linear_change(41,205,[0,0,0],[0,0,50])
band_v1.add_linear_change(205,240,[0,0,50],[0,0,255])
band_v1.add_solid(240,529,[0,0,255])
band_v1.add_flash_6f(529,[255,0,0])
band_v1.add_solid(535,745,[0,0,255])
band_v1.add_flash_6f(745,[255,0,0])
band_v1.add_solid(751,818,[255,0,0])
band_v1.add_solid(818,1033,[0,0,255])
band_v1.add_linear_change(1033,1081,[0,0,255],[255,0,0])
band_v1.add_solid(1081,1197,[255,0,0])
band_v1.add_linear_change(1197,1203,[255,0,0],[0,0,255])
band_v1.add_solid(1203,1316,[0,0,255])
band_v1.add_flash_6f(1316,[255,0,0])
band_v1.add_solid(1322,1528,[255,0,0])
band_v1.add_linear_change(1528,1578,[255,0,0],[150,0,150])
band_v1.add_solid(1578,1654,[150,0,150])
band_v1.add_flash_6f(1654,[255,0,255])
band_v1.add_linear_change(1660,1730,[255,0,255],[0,0,0])

def white_projector(screen) :
    screen.fill("black")
    pygame.draw.circle(screen,(255,255,255),(250,250),100)



class screen_instructions() :
    def __init__(self,duration_of_music,fps=10) :
        self.duration_sec=duration_of_music
        self.fps=fps
        self.total_frame=duration_of_music*fps
        self.frames=[[None,None]]*self.total_frame
    def add_white_projector(self,start_frame,end_frame) :
        for i in range(start_frame,end_frame) :
            self.frames[i][0]=white_projector

screen_v1=screen_instructions(10)
screen_v1.add_white_projector(0,100)

classic_white_projector=screen_instructions(1200)
classic_white_projector.add_white_projector(0,12000)

""""

def projector(screen,args) :
    #ARGS must have :
    #"color"
    #"pos"
    #"radius"
    print(args)
    screen.fill("black")
    pygame.draw.circle(screen,(255,255,255),args["pos"],args["radius"])



class screen_instructions() :
    def __init__(self,duration_of_music,fps=10) :
        self.duration_sec=duration_of_music
        self.fps=fps
        self.total_frame=duration_of_music*fps
        self.frames=[[None,None]]*self.total_frame
    def add_projector(self,start_frame,end_frame,start_c,end_c,start_pos,end_pos,start_radius,end_radius) :
        for i in range(start_frame,end_frame) :
            self.frames[i][0]=projector
        diff_r=(end_c[0]-start_c[0])/(end_frame-start_frame)
        diff_g=(end_c[1]-start_c[1])/(end_frame-start_frame)
        diff_b=(end_c[2]-start_c[2])/(end_frame-start_frame)
        diff_pos_x=(end_pos[0]-start_pos[0])/(end_frame-start_frame)
        diff_pos_y=(end_pos[1]-start_pos[1])/(end_frame-start_frame)
        diff_radius=(end_radius-start_radius)/(end_frame-start_frame)
        for i in range(start_frame,end_frame) :
            args={
                "color":(diff_r*(i-start_frame),diff_g*(i-start_frame),diff_b*(i-start_frame)),
                "pos":(diff_pos_x*(i-start_frame),diff_pos_y*(i-start_frame)),
                "radius":diff_radius*(i-start_frame)
                }
            self.frames[i][1]=args
            print(f"{i} : {self.frames[0][1]}")
        #print(self.frames)
        
"""